package exer_02;

import java.awt.Color;
import java.util.Random;
import jconsole.JConsole;

public class ParityMatters {
	
	public static void main (String [] args) {
		 int bet;
		 int dieOne, dieTwo, dieThree;

		 // need more variables? Declare them here.
		int sumaTresDaus;

		 JConsole console = new JConsole(80, 25);
		 
		 //Random alea = new Random();
		 Random alea = new ChargedDie(console);

		 console.println("----------------");
		 console.println(" PARITY MATTERS ");
		 console.println("----------------");

		 console.print("Hi gambler. Please enter your bet: ");
		 console.setForegroundColor(Color.GREEN);
		 bet = console.readInt();
		 console.resetColor();
		 console.println();

		 console.print("Good! Now press any key to roll your three dice ");
		 console.readKey();

		 /* COMPLETE 1: roll dice here */
		dieOne = ((RandomGenerator) alea).nextInt(6) + 1;
		 dieTwo = ((RandomGenerator) alea).nextInt(6) + 1;
		 dieThree = ((RandomGenerator) alea).nextInt(6) + 1;
		 sumaTresDaus = dieOne + dieTwo + dieThree;
	 

		 console.println("\n");
		 console.setForegroundColor(Color.CYAN);
		 console.println("\t d-1 \t d-2 \t d-3");
		 console.println("\t --- \t --- \t ---");
		 console.setForegroundColor(Color.MAGENTA);
		 console.println("\t  "+dieOne+" \t   "+dieTwo+" \t   "+dieThree);
		 console.resetColor();
		 console.println();

		 /* COMPLETE 2 ... */
		if ((dieOne % 2 == dieTwo % 2) && (dieTwo % 2 == dieThree % 2)) { 
		    console.println();
		    console.print("SUPER! You got a ");
		    console.setForegroundColor(Color.yellow);
		    console.print ("PARITY STRIKE");
		    console.resetColor();
		    console.println();
		    console.print("You win 4 times your bet: " 
		    		+ bet * 4 +" bucks.");
		}  
		else if ((dieOne % 2 !=0 && dieTwo % 2!=0 && dieThree % 2!=0 )) { //SI TOTS IMPARELLS
		    console.println();
		    console.print("SUPER! You got a ");
		    console.setForegroundColor(Color.yellow);
		    console.print ("PARITY STRIKE");
		    console.resetColor();
		    console.println();
		    console.print("You win 4 times your bet: " 
		    		+ bet * 4 +" bucks.");
		}  
		else if (sumaTresDaus < 9) {
			console.println();
			console.print("What a PITY. Your dice combination is ");
			console.setForegroundColor(Color.RED); 
			console.print ("OFF THE MIN");
			console.resetColor();
			console.println();
			console.print("You loose your money.");
		}
		else if (sumaTresDaus == 9) {
			console.println();
			console.print("EXCELLENT! You got a ");
			console.setForegroundColor(Color.yellow);
			console.print ("LOVELY NINE");
			console.resetColor();
			console.println();
			console.print("You win 3 times your bet: "
					+ bet * 3 +" bucks.");
		}
		else {
			console.println("Choose modality. E or e for EVEN. Any other key for ODD");
			console.setForegroundColor(Color.GREEN);
			modality = console.readChar();
			console.resetColor();
			console.println();
			
			switch (modality) {
			    case 'E':
			    case 'e':
			console.print("Modality is EVEN. Now press any key to roll two of your three dice");
			    break;
			console.readKey();
				 
			dieFour = ((RandomGenerator) alea).nextInt(6) + 1;
			dieFive = ((RandomGenerator) alea).nextInt(6) + 1;
			int sumOfTwoDice = dieFour + dieFive;
						 		
			console.println("\n");
			console.setForegroundColor(Color.CYAN);
			console.println("\t d-1 \t d-2");
			console.println("\t --- \t ---");
			console.setForegroundColor(Color.MAGENTA);
			console.println("\t  "+dieFour+" \t   "+dieFive);
			console.resetColor();
			console.println();

			if ((dieFour == 1 && dieFive == 1) || (dieFour == 6 && dieFive == 6)) {
			console.println();
			console.print("NICE! You got " );
			console.setForegroundColor(Color.yellow);
			console.print ("Two or Twelve. LOVELY DOUBLE");
			console.resetColor();
			console.println();
			console.print("You win 2 times your bet "
				+ (bet * 2) + "!");
			}
						
			else if (sumOfTwoDice % 2 == 0) {
			console.println();
			console.print("WELL DONE! You got an ");
			console.setForegroundColor(Color.yellow);
			console.print ("Even sum. FAIR RESULT");
			console.resetColor();
			console.println();
			console.print("You get your money back " 
				+ bet +" bucks.");
			}

			else {
			console.println();
			console.print("BAD LUCK! ");
			console.setForegroundColor(Color.RED);
			console.print ("YOU LOSE");
			console.resetColor();
			console.println();
			console.print("Say bye bye to your "+ bet +"bucks.");
			}
			break;

 
			default:
			console.print("Modality is ODD. Now press any key to roll two of your three dice");
			console.readKey();
			dieFour = ((RandomGenerator) alea).nextInt(6)+ 1;
			dieFive = ((RandomGenerator) alea).nextInt(6)+ 1;
			int sumOfTwoDiceOdd = dieFour + dieFive;
							
			console.println("\n");
			console.setForegroundColor(Color.CYAN);
			 console.println("\t d-1 \t d-2");
			 console.println("\t --- \t ---");
			console.setForegroundColor(Color.MAGENTA);
			 console.println("\t  "+dieFour+" \t   "+dieFive);
			 console.resetColor();
			console.println();

			 if (sumOfTwoDiceOdd == 7 || sumOfTwoDiceOdd == 11) {
			 console.println();
			console.print("BEAUTIFUL! you got ");
			 console.setForegroundColor(Color.yellow);
			 console.print("SEVEN-ELEVEN ODDITY");
			console.resetColor();
			 console.println();
			console.print("You win 3 times your bet: " + (bet * 3) + " bucks.");
			} else {
			console.println();
			 console.print("BAD LUCK! ");
			 console.setForegroundColor(Color.RED);
			 console.print("YOU LOSE");
			 console.resetColor();
			 console.println();
			console.print("Say bye bye to your " + bet + " bucks.");
			 }
			 break;
			 }	
		 }
			
		 

		 // program finishes here
		 console.setCursorPosition(0, console.getRows() - 1);
		 console.print("Come back soon! Press any key to exit");
		 console.readKey();
		 System.exit(0);
	}

}






//do not modify this code.
class ChargedDie extends Random {
	
	private static String[] seqs = { "224", // (1) parity strike
			"133", // (2) parity strike
			"161", // (3) less than nine (lose)
			"324", // (4) lovely nine
			"45111", // (5) lovely double (playing even)
			"34566", // (6) lovely double (playing even)
			"45613", // (7) even sum (playing even)
			"36625", // (8) lose (playing even)
			"43556", // (9) seven-eleven (playing odd)
			"35623", // (10) lose (playing odd)
			"333" // (11) this is not lovely nine. This is parity strike

	};

	private int pos = 0;
	private String sequence;

	public ChargedDie(JConsole console) {
		int seqNum;
		console.print("Enter sequence>");
		console.setForegroundColor(Color.GREEN);
		seqNum = console.readInt();
		console.resetColor();
		console.clear();

		sequence = seqs[seqNum - 1];
	}

	public int nextInt(int lower, int upper) {
		int value;

		value = Integer.parseInt(sequence.substring(pos, pos+1));

		pos = (pos + 1) % sequence.length();
		return value;
	}
	
	
	public int nextInt(int upper) {
		
		return nextInt(1, upper)-1;
	}
	
	
} // ChargedDie ends here
